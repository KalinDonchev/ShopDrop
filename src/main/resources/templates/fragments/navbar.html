<th:block>

    <th:block sec:authorize="isAnonymous()">
        <nav class="navbar navbar-expand-md bg-dark navbar-dark sticky-top">
            <a class="navbar-brand" th:href="@{/home}">Home</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                    data-target="#navb" aria-expanded="true">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="navb" class="navbar-collapse collapse hide">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/auth/register}"><span class="fas fa-user"></span> Sign Up</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/auth/login}"><span class="fas fa-sign-in-alt"></span> Login</a>
                    </li>
                </ul>
            </div>
        </nav>
    </th:block>

    <th:block sec:authorize="isAuthenticated()">
        <nav class="navbar navbar-expand-md bg-dark navbar-dark sticky-top">
            <a class="navbar-brand" th:href="@{/home}">Home</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                    data-target="#navb" aria-expanded="true">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="navb" class="navbar-collapse collapse hide">
                <ul class="nav navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/news/all}">News</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" tH:href="@{/review/all}">Reviews</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/review/add}">Add Review</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Categories
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown" id="dropdown-menu">
<!--                            <input type="radio" th:text="'Are be'">-->
<!--                            <a class="dropdown-item" href="#">Action</a>-->
<!--                            <a class="dropdown-item" href="#">Another action</a>-->
<!--                            <div class="dropdown-divider"></div>-->
<!--                            <a class="dropdown-item" href="#">Something else here</a>-->
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/product/all/{username}(username=${session.username})}">My Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/product/add}">Add Product</a>
                    </li>
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" th:href="@{/user/profile}">My Profile</a>-->
<!--                    </li>-->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Profile
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item"  th:href="@{/user/profile}">My Profile</a>
                            <a class="dropdown-item"  th:href="@{/user/edit}">Edit Profile</a>
                        </div>
                    </li>
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" href="#">Edit Profile</a>-->
<!--                    </li>-->
<!--                    <li class="nav-item">-->
<!--                        <a class="nav-link" th:href="@{/category/add}">Add Category</a>-->
<!--                    </li>-->
                    <th:block sec:authorize="hasRole('ROLE_ROOT')">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Moderator
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" th:href="@{/category/add}">Add Category</a>
                            <a class="dropdown-item" th:href="@{/category/all}">All Categories</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" th:href="@{/user/all}">All Users</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" th:href="@{/news/add}">Add News</a>
                            <a class="dropdown-item" th:href="@{/news/allNews}">All News</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" th:href="@{/review/allReviews}">All Reviews</a>
                        </div>
                    </li>
                    </th:block>

                    <th:block sec:authorize="hasRole('ROLE_ADMIN')">
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" th:href="@{/user/all}">All Users</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" th:href="@{/news/add}">Add News</a>
                            <a class="dropdown-item" th:href="@{/news/allNews}">All News</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" th:href="@{/review/allReviews}">All Reviews</a>
                        </div>
                    </th:block>
                    <li class="nav-item">
                        <form action="/logout?login" method="post">
                        <a class="nav-link" th:href="@{/logout}">Logout</a>
                        </form>
                    </li>

                </ul>
            </div>
        </nav>

    </th:block>

</th:block>